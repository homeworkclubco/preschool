/* --------------------------------------
 * Cluster
 * 
 * A layout that arranges elements horizontally with optional spacing and 
 * alignment. The base cluster only applies spacing to direct children, while 
 * the recursive variant applies spacing to all nested children.
 * 
 * Default behavior:
 * - Only direct children get spacing
 * - No alignment modifiers
 * 
 * Usage:
 *   <div class="cluster cluster-space-l">
 *     <div>Item 1</div>
 *     <div>Item 2</div>
 *     <div>Item 3</div>
 *   </div>
 * 
 * Custom properties:
 * - --cluster-space: Gap between elements (default: var(--space-sm))
 * - --cluster-justify: Justify content (default: flex-start)
 * - --cluster-align: Align content (default: center)
 * 
 * Modifiers:
 * - cluster--space-*: Sets spacing between elements
 * - cluster--justify-start/end/center/between: Sets justify-content
 * - cluster--align-start/end/center: Sets align-items
 * - cluster--recursive: Applies spacing to all nested children
 * - cluster--no-wrap: Prevents wrapping of children
 * -------------------------------------- */

.cluster {
    --_cluster-space: var(--cluster-space, var(--space-sm));
    --_cluster-justify: var(--cluster-justify, flex-start);
    --_cluster-align: var(--cluster-align, center);

    display: flex;
    flex-wrap: wrap;
    gap: var(--_cluster-space);
    justify-content: var(--_cluster-justify);
    align-items: var(--_cluster-align);
}

@ruler utility({
    selector: '.cluster--space',
    property: '--cluster-space',
    scale: 'space',
    generateAllCrossPairs: true,
});

.cluster--justify-start {
    --cluster-justify: flex-start;
}

.cluster--justify-center {
    --cluster-justify: center;
}

.cluster--justify-end {
    --cluster-justify: flex-end;
}

.cluster--justify-between {
    --cluster-justify: space-between;
}

.cluster--align-start {
    --cluster-align: flex-start;
}

.cluster--align-center {
    --cluster-align: center;
}

.cluster--align-end {
    --cluster-align: flex-end;
}

.cluster--recursive * {
    display: flex;
    flex-wrap: wrap;
    gap: var(--_cluster-space);
}

.cluster--no-wrap {
    flex-wrap: nowrap;
}
